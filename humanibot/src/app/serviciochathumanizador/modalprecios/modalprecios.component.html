<div role="dialog" aria-modal="true" aria-labelledby="modal-title"
  class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 max-lg:mt-36">

  <div
    class="bg-white dark:bg-surface-900 rounded-2xl shadow-2xl w-full max-w-[1400px] max-h-[90vh] overflow-auto p-6 relative">

    <!-- Cerrar -->
    <button aria-label="Cerrar" (click)="cerrarModal()"
      class="absolute top-4 right-4 text-gray-500 hover:text-red-500 text-2xl">&times;</button>

    <!-- Header -->
    <header class="text-center mb-6">
      <h2 id="modal-title" class="text-3xl font-semibold text-surface-900 dark:text-surface-0">
        Migrar de plan
      </h2>

      <p class="mt-2 text-lg text-muted-color">
        {{ mensajeMarketing }}
      </p>
    </header>

    <!-- Estado actual -->
    <div class="flex flex-col md:flex-row items-center md:items-start justify-between gap-4 mb-6">
      <div class="flex items-center gap-4">
        <div>
          <div class="text-sm text-muted-color">Plan actual</div>
          <div class="font-medium text-surface-900 dark:text-surface-0 uppercase">
            {{ datosPlanCuenta?.plan || 'Desconocido' }}
          </div>
        </div>
      </div>
      <div class="text-sm text-surface-600 dark:text-surface-300">
        Al cambiar de plan, este se activará de inmediato y el cobro se calculará de manera proporcional según las
        fechas. </div>
    </div>

    <!-- Grid de planes -->
    <section class="grid grid-cols-1 sm:grid-cols-4 gap-6">

      <!-- Free -->
      <article
        class="p-6 rounded-2xl border dark:border-surface-700 bg-white dark:bg-black flex flex-col items-start gap-4">
        <h3 class="text-xl font-semibold">Free</h3>
        <div class="text-3xl font-bold">S/ 0 <span class="text-base font-normal">/ mes</span></div>
        <p class="text-sm text-surface-600">Plan gratuito con uso limitado.</p>

        <ul class="mt-3 mb-4 w-full space-y-2 text-sm">
          <li class="flex items-center"><i class="pi pi-check mr-2"></i>10 párrafos humanizados por día</li>
          <li class="flex items-center"><i class="pi pi-check mr-2"></i>10 párrafos por minuto</li>
        </ul>
        <div class="mt-auto w-full">
          <button disabled *ngIf="datosPlanCuenta?.plan !== 'free'" (click)="migrar('free')"
            class="w-full p-3 rounded-xl border-2 border-red-600 text-red-600 font-semibold ">
            Free
          </button>
          <button *ngIf="datosPlanCuenta?.plan === 'free'" disabled
            class="w-full p-3 rounded-xl border-2 border-primary text-primary font-semibold bg-white/0">
            Actualmente
          </button>
        </div>
      </article>

      <!-- Starter -->
      <article
        class="p-6 rounded-2xl border dark:border-surface-700 bg-white dark:bg-black flex flex-col items-start gap-4">
        <h3 class="text-xl font-semibold">Starter</h3>
        <div class="text-3xl font-bold">S/ 5 <span class="text-base font-normal">/ mes</span></div>
        <p class="text-sm text-surface-600">Uso moderado — Ideal si empiezas a crecer.</p>

        <ul class="mt-3 mb-4 w-full space-y-2 text-sm">
          <li class="flex items-center"><i class="pi pi-check mr-2"></i>50 párrafos humanizados por día</li>
          <li class="flex items-center"><i class="pi pi-check mr-2"></i>20 párrafos por minuto</li>
        </ul>
        <div class="mt-auto w-full">
          <button *ngIf="datosPlanCuenta?.plan !== 'starter'" (click)="migrar('starter')"
            class="w-full p-3 rounded-xl border-2 border-blue-600 text-blue-600 font-semibold hover:bg-blue-50 transition">
            Migrar a Starter
          </button>
          <button *ngIf="datosPlanCuenta?.plan === 'starter'" disabled
            class="w-full p-3 rounded-xl border-2 border-primary text-primary font-semibold bg-white/0">
            Actualmente
          </button>
        </div>
      </article>

      <!-- Plus -->
      <article
        class="p-6 rounded-2xl border dark:border-surface-700 bg-white dark:bg-black flex flex-col items-start gap-4">
        <h3 class="text-xl font-semibold">Plus</h3>
        <div class="text-3xl font-bold">S/ 10 <span class="text-base font-normal">/ mes</span></div>
        <p class="text-sm text-surface-600">Balance perfecto entre precio y uso.</p>

        <ul class="mt-3 mb-4 w-full space-y-2 text-sm">
          <li class="flex items-center"><i class="pi pi-check mr-2"></i>150 párrafos humanizados por día</li>
          <li class="flex items-center"><i class="pi pi-check mr-2"></i>30 párrafos por minuto</li>
        </ul>
        <div class="mt-auto w-full">
          <button *ngIf="datosPlanCuenta?.plan !== 'plus'" (click)="migrar('plus')"
            class="w-full p-3 rounded-xl border-2 border-blue-600 text-blue-600 font-semibold hover:bg-blue-50 transition">
            Migrar a Plus
          </button>
          <button *ngIf="datosPlanCuenta?.plan === 'plus'" disabled
            class="w-full p-3 rounded-xl border-2 border-primary text-primary font-semibold bg-white/0">
            Actualmente
          </button>
        </div>
      </article>

      <!-- Premium -->
      <article
        class="p-6 rounded-2xl border dark:border-surface-700 bg-white dark:bg-black flex flex-col items-start gap-4">
        <h3 class="text-xl font-semibold">Premium</h3>
        <div class="text-3xl font-bold">S/ 30 <span class="text-base font-normal">/ mes</span></div>
        <p class="text-sm text-surface-600">Para profesionales y equipos con alto uso.</p>

        <ul class="mt-3 mb-4 w-full space-y-2 text-sm">
          <li class="flex items-center"><i class="pi pi-check mr-2"></i>Párrafos humanizados ilimitados</li>
          <li class="flex items-center"><i class="pi pi-check mr-2"></i>40 párrafos por minuto</li>
        </ul>
        <div class="mt-auto w-full">
          <button *ngIf="datosPlanCuenta?.plan !== 'premium'" (click)="migrar('premium')"
            class="w-full p-3 rounded-xl border-2 border-blue-600 text-blue-600 font-semibold hover:bg-blue-50 transition">
            Migrar a Premium
          </button>
          <button *ngIf="datosPlanCuenta?.plan === 'premium'" disabled
            class="w-full p-3 rounded-xl border-2 border-primary text-primary font-semibold bg-white/0">
            Actualmente
          </button>
        </div>
      </article>

    </section>

  </div>
</div>